<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="359px" preserveAspectRatio="none" style="width:468px;height:359px;background:#FFFFFF;" version="1.1" viewBox="0 0 468 359" width="468px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="171.7578" style="stroke:#000000;stroke-width:1.5;" width="419.5303" x="43" y="134.3125"/><g><title>DWIN</title><rect fill="#000000" fill-opacity="0.00000" height="285.4609" width="8" x="226.6621" y="37.6094"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="230" x2="230" y1="37.6094" y2="323.0703"/></g><g><title>ESP32_UART</title><rect fill="#000000" fill-opacity="0.00000" height="285.4609" width="8" x="396.7891" y="37.6094"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="400.0479" x2="400.0479" y1="37.6094" y2="323.0703"/></g><g class="participant participant-head" data-participant="DWIN"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51.3242" x="205" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.3242" x="212" y="26.5332">DWIN</text></g><g class="participant participant-tail" data-participant="DWIN"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51.3242" x="205" y="322.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.3242" x="212" y="343.6035">DWIN</text></g><g class="participant participant-head" data-participant="ESP32_UART"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.4824" x="349.0479" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.4824" x="356.0479" y="26.5332">ESP32_UART</text></g><g class="participant participant-tail" data-participant="ESP32_UART"><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103.4824" x="349.0479" y="322.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.4824" x="356.0479" y="343.6035">ESP32_UART</text></g><g class="message" data-participant-1="DWIN" data-participant-2="ESP32_UART"><polygon fill="#181818" points="388.7891,68.9609,398.7891,72.9609,388.7891,76.9609,392.7891,72.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="230.6621" x2="394.7891" y1="72.9609" y2="72.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.4136" x="237.6621" y="68.1045">set up UART</text></g><path d="M154,52.6094 L154,78.6094 L225,78.6094 L225,62.6094 L215,52.6094 L154,52.6094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M215,52.6094 L215,62.6094 L225,62.6094 L215,52.6094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.5845" x="160" y="71.1045">dwin_init</text><g class="message" data-participant-1="DWIN" data-participant-2="DWIN"><line style="stroke:#181818;stroke-width:1;" x1="230.6621" x2="272.6621" y1="106.3125" y2="106.3125"/><line style="stroke:#181818;stroke-width:1;" x1="272.6621" x2="272.6621" y1="106.3125" y2="119.3125"/><line style="stroke:#181818;stroke-width:1;" x1="231.6621" x2="272.6621" y1="119.3125" y2="119.3125"/><polygon fill="#181818" points="241.6621,115.3125,231.6621,119.3125,241.6621,123.3125,237.6621,119.3125" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.4263" x="237.6621" y="101.4561">set up Trail Bytes</text></g><path d="M5,92.4609 L5,118.4609 L226,118.4609 L226,102.4609 L216,92.4609 L5,92.4609" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M216,92.4609 L216,102.4609 L226,102.4609 L216,92.4609" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.459" x="11" y="110.9561">Trail Bytes (TBs) -&gt; [CC 33 C3 3C]</text><path d="M43,134.3125 L192.749,134.3125 L192.749,142.6641 L182.749,152.6641 L43,152.6641 L43,134.3125" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="171.7578" style="stroke:#000000;stroke-width:1.5;" width="419.5303" x="43" y="134.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="104.749" x="58" y="148.8076">dwin_handshake</text><g class="message" data-participant-1="DWIN" data-participant-2="DWIN"><line style="stroke:#181818;stroke-width:1;" x1="230.6621" x2="272.6621" y1="175.0156" y2="175.0156"/><line style="stroke:#181818;stroke-width:1;" x1="272.6621" x2="272.6621" y1="175.0156" y2="188.0156"/><line style="stroke:#181818;stroke-width:1;" x1="231.6621" x2="272.6621" y1="188.0156" y2="188.0156"/><polygon fill="#181818" points="241.6621,184.0156,231.6621,188.0156,241.6621,192.0156,237.6621,188.0156" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.127" x="237.6621" y="170.1592">add_byte 0x00 in send_buf</text></g><g class="message" data-participant-1="DWIN" data-participant-2="ESP32_UART"><polygon fill="#181818" points="388.7891,217.3672,398.7891,221.3672,388.7891,225.3672,392.7891,221.3672" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="230.6621" x2="394.7891" y1="221.3672" y2="221.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.498" x="237.6621" y="216.5107">send_buf &amp; TBs</text></g><path d="M53,201.0156 L53,227.0156 L225,227.0156 L225,211.0156 L215,201.0156 L53,201.0156" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M215,201.0156 L215,211.0156 L225,211.0156 L215,201.0156" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.0107" x="59" y="219.5107">TBs is always sent at end.</text><g class="message" data-participant-1="ESP32_UART" data-participant-2="DWIN"><polygon fill="#181818" points="241.6621,250.7188,231.6621,254.7188,241.6621,258.7188,237.6621,254.7188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="235.6621" x2="399.7891" y1="254.7188" y2="254.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.479" x="247.6621" y="249.8623">response</text></g><g class="message" data-participant-1="DWIN" data-participant-2="DWIN"><line style="stroke:#181818;stroke-width:1;" x1="230.6621" x2="272.6621" y1="285.0703" y2="285.0703"/><line style="stroke:#181818;stroke-width:1;" x1="272.6621" x2="272.6621" y1="285.0703" y2="298.0703"/><line style="stroke:#181818;stroke-width:1;" x1="231.6621" x2="272.6621" y1="298.0703" y2="298.0703"/><polygon fill="#181818" points="241.6621,294.0703,231.6621,298.0703,241.6621,302.0703,237.6621,298.0703" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.7715" x="237.6621" y="280.2139">[AA '\0' 'O' 'K'] or not</text></g><path d="M68,271.2188 L68,297.2188 L224,297.2188 L224,281.2188 L214,271.2188 L68,271.2188" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M214,271.2188 L214,281.2188 L224,281.2188 L214,271.2188" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.8652" x="74" y="289.7139">response should be OK</text><!--SRC=[ROzHIyCm58NVyolEazM7ZMBUzY2qdGyoS38hFinHCfBPO4b6RygsV-zDrTcE1KAubtFETp9_Vth6v06Fho_oldhBLkKCP0AwFU8Wd0y6ZTc56VJ1kiew6yJyrnJVixnibMsGduAXeMkmncsPqrqqhei2KgAGaCL6VBQU_NryhPocMdqP0JvZZjAwsd8EqcEQmZe6Ezvqkv5s_94V0Mx0v5usR9OJB44r1tMYg0rG0MoPzih_84pE7Lf3U-_eMhrrbY7vI1CaIxwBP0FVHjmbzYy2LFkkqTWQB1U2iVW6]--></g></svg>